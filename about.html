<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Contact — Stephen Wang" />
  <title>Contacts</title>
  <link rel="stylesheet" href="css/about.css">
</head>
<body>
  <!-- flowing particles background -->
  <canvas id="bg" class="particles" aria-hidden="true"></canvas>

  <header>
    <h1>Let's Connect</h1>
    <p class="kicker">Let’s build something great.</p>
    <nav>
      <a href="index.html">Home</a>
      <a href="projects.html">Timeline</a>
      <a aria-current="page" href="about.html">Contact</a>
    </nav>
  </header>

  <main>
    <section class="grid">
      <article class="card">
        <h2>Reach Me</h2>
        <ul class="list">
          <li><strong>Email:</strong> <a href="mailto:swang377668@gmail.com">swang377668@gmail.com</a></li>
          <li><strong>GitHub:</strong> <a href="https://github.com/szwf" target="_blank" rel="noopener">github.com/szwf</a></li>
          <li><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/wangste" target="_blank" rel="noopener">linkedin.com/in/wangste</a></li>
          <li><span class="badge">Boston, MA</span></li>
        </ul>

        <div class="cta">
          <a class="btn primary" href="mailto:swang377668@gmail.com">Email Me</a>
          <a class="btn" href="https://github.com/szwf" target="_blank" rel="noopener">View GitHub</a>
          <a class="btn" href="https://www.linkedin.com/in/wangste" target="_blank" rel="noopener">Connect on LinkedIn</a>
        </div>
      </article>

      <article class="card">
        <h2>What I’m Open To</h2>
        <p>Internships, part-time engineering roles, and collaborations in web, mobile, or data/ML projects.</p>
        <p>Strong interests: TypeScript, React/React Native, Node, SQL/MySQL, and UX-focused builds.</p>
      </article>
    </section>
  </main>

  <footer>
    <small>&copy; <span id="year"></span> Stephen Wang · MIT License</small>
  </footer>

  <!-- ES6 module: footer year + flowing particles -->
  <script type="module">
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Respect reduced motion
    const reduceMotion = matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (reduceMotion) {
      // draw a quiet starfield once, no animation
      const c = document.getElementById('bg');
      const dpr = Math.max(1, window.devicePixelRatio || 1);
      const resize = () => { c.width = innerWidth * dpr; c.height = innerHeight * dpr; };
      resize();
      const ctx = c.getContext('2d');
      const stars = 80;
      for (let i=0;i<stars;i++){
        const x = Math.random()*c.width, y = Math.random()*c.height, r = Math.random()*2*dpr;
        ctx.fillStyle = 'rgba(56,189,248,.7)';
        ctx.beginPath(); ctx.arc(x,y,r,0,Math.PI*2); ctx.fill();
      }
      addEventListener('resize', () => { resize(); /* re-draw lightly */ });
    } else {
      // Flowing particles animation
      const canvas = document.getElementById('bg');
      const ctx = canvas.getContext('2d');
      let width, height, dpr, particles, rafId;

      class Particle {
        constructor(){
          this.reset(true);
        }
        reset(randomPos=false){
          this.size = Math.random()*2 + 0.6;
          this.speed = Math.random()*0.6 + 0.15;
          this.angle = Math.random()*Math.PI*2;
          this.vx = Math.cos(this.angle)*this.speed;
          this.vy = Math.sin(this.angle)*this.speed;
          this.alpha = Math.random()*0.6 + 0.2;
          if (randomPos) {
            this.x = Math.random()*width;
            this.y = Math.random()*height;
          } else {
            // respawn near an edge for nicer flow
            const edge = Math.floor(Math.random()*4);
            if (edge===0){ this.x = 0; this.y = Math.random()*height; }
            if (edge===1){ this.x = width; this.y = Math.random()*height; }
            if (edge===2){ this.x = Math.random()*width; this.y = 0; }
            if (edge===3){ this.x = Math.random()*width; this.y = height; }
          }
        }
        step(){
          this.x += this.vx; this.y += this.vy;
          // gentle drift change
          this.vx += (Math.random()-0.5)*0.02;
          this.vy += (Math.random()-0.5)*0.02;
          // wrap/reseed
          if (this.x < -10 || this.x > width+10 || this.y < -10 || this.y > height+10){
            this.reset(false);
          }
        }
        draw(){
          ctx.globalAlpha = this.alpha;
          ctx.fillStyle = 'rgba(56,189,248,1)'; // accent
          ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill();
          ctx.globalAlpha = 1;
        }
      }

      const setup = () => {
        dpr = Math.max(1, devicePixelRatio || 1);
        width = innerWidth; height = innerHeight;
        canvas.width = width * dpr; canvas.height = height * dpr;
        canvas.style.width = width + 'px'; canvas.style.height = height + 'px';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

        const count = Math.floor((width*height) / 26000); // scale with viewport
        particles = Array.from({length: Math.max(80, count)}, () => new Particle());
      };

      const connectLines = () => {
        // draw faint lines between close particles
        for (let i=0;i<particles.length;i++){
          for (let j=i+1;j<particles.length;j++){
            const a = particles[i], b = particles[j];
            const dx = a.x-b.x, dy = a.y-b.y, dist = Math.hypot(dx, dy);
            if (dist < 110){
              const alpha = 1 - dist/110;
              ctx.strokeStyle = `rgba(56,189,248,${alpha*0.25})`;
              ctx.beginPath(); ctx.moveTo(a.x, a.y); ctx.lineTo(b.x, b.y); ctx.stroke();
            }
          }
        }
      };

      const loop = () => {
        rafId = requestAnimationFrame(loop);
        ctx.clearRect(0,0,width,height);
        particles.forEach(p => { p.step(); p.draw(); });
        connectLines();
      };

      addEventListener('resize', setup, { passive: true });
      setup(); loop();

      // Pause on tab hidden to save battery
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) cancelAnimationFrame(rafId);
        else loop();
      });
    }
  </script>
</body>
</html>
